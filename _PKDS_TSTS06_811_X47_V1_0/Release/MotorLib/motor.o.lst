   1              	 .syntax unified
   2              	 .cpu cortex-m4
   3              	 .eabi_attribute 27,3
   4              	 .fpu fpv4-sp-d16
   5              	 .eabi_attribute 20,1
   6              	 .eabi_attribute 21,1
   7              	 .eabi_attribute 23,3
   8              	 .eabi_attribute 24,1
   9              	 .eabi_attribute 25,1
  10              	 .eabi_attribute 26,1
  11              	 .eabi_attribute 30,4
  12              	 .eabi_attribute 34,1
  13              	 .eabi_attribute 18,4
  14              	 .thumb
  15              	 .file "motor.c"
  16              	 .section .text.HallTimerProc,"ax",%progbits
  17              	 .align 1
  18              	 .global HallTimerProc
  19              	 .thumb
  20              	 .thumb_func
  22              	HallTimerProc:
  23              	 
  24              	 
  25 0000 08B5     	 push {r3,lr}
  26 0002 FFF7FEFF 	 bl Motor0_BLDC_SCALAR_SPEED_POS_HALL_GetHallPosition
  27 0006 1B49     	 ldr r1,.L46
  28 0008 1B4B     	 ldr r3,.L46+4
  29 000a 0A68     	 ldr r2,[r1]
  30 000c 9042     	 cmp r0,r2
  31 000e 10D0     	 beq .L3
  32 0010 0128     	 cmp r0,#1
  33 0012 02D1     	 bne .L4
  34 0014 052A     	 cmp r2,#5
  35 0016 07D1     	 bne .L5
  36 0018 03E0     	 b .L41
  37              	.L4:
  38 001a 0328     	 cmp r0,#3
  39 001c 10D1     	 bne .L7
  40 001e 012A     	 cmp r2,#1
  41 0020 14D1     	 bne .L8
  42              	.L41:
  43 0022 9A68     	 ldr r2,[r3,#8]
  44 0024 0132     	 adds r2,r2,#1
  45 0026 03E0     	 b .L34
  46              	.L5:
  47 0028 032A     	 cmp r2,#3
  48              	.L36:
  49 002a 02D1     	 bne .L3
  50 002c 9A68     	 ldr r2,[r3,#8]
  51 002e 013A     	 subs r2,r2,#1
  52              	.L34:
  53 0030 9A60     	 str r2,[r3,#8]
  54              	.L3:
  55 0032 9A68     	 ldr r2,[r3,#8]
  56 0034 0860     	 str r0,[r1]
  57 0036 002A     	 cmp r2,#0
  58 0038 B8BF     	 it lt
  59 003a 5242     	 rsblt r2,r2,#0
  60 003c 1A80     	 strh r2,[r3]
  61 003e 08BD     	 pop {r3,pc}
  62              	.L7:
  63 0040 0228     	 cmp r0,#2
  64 0042 05D1     	 bne .L43
  65 0044 032A     	 cmp r2,#3
  66 0046 ECD0     	 beq .L41
  67 0048 062A     	 cmp r2,#6
  68 004a EEE7     	 b .L36
  69              	.L8:
  70 004c 022A     	 cmp r2,#2
  71 004e ECE7     	 b .L36
  72              	.L43:
  73 0050 0628     	 cmp r0,#6
  74 0052 03D1     	 bne .L44
  75 0054 022A     	 cmp r2,#2
  76 0056 E4D0     	 beq .L41
  77 0058 042A     	 cmp r2,#4
  78 005a E6E7     	 b .L36
  79              	.L44:
  80 005c 0428     	 cmp r0,#4
  81 005e 03D1     	 bne .L45
  82 0060 062A     	 cmp r2,#6
  83 0062 DED0     	 beq .L41
  84 0064 052A     	 cmp r2,#5
  85 0066 E0E7     	 b .L36
  86              	.L45:
  87 0068 0528     	 cmp r0,#5
  88 006a E2D1     	 bne .L3
  89 006c 042A     	 cmp r2,#4
  90 006e D8D0     	 beq .L41
  91 0070 012A     	 cmp r2,#1
  92 0072 DAE7     	 b .L36
  93              	.L47:
  94              	 .align 2
  95              	.L46:
  96 0074 00000000 	 .word .LANCHOR0
  97 0078 00000000 	 .word drive
  99              	 .section .text.MotorStepProc,"ax",%progbits
 100              	 .align 1
 101              	 .global MotorStepProc
 102              	 .thumb
 103              	 .thumb_func
 105              	MotorStepProc:
 106              	 
 107              	 
 108              	 
 109 0000 FFF7FEBF 	 b Motor0_BLDC_SCALAR_MSM
 111              	 .section .text.MotorInit,"ax",%progbits
 112              	 .align 1
 113              	 .global MotorInit
 114              	 .thumb
 115              	 .thumb_func
 117              	MotorInit:
 118              	 
 119              	 
 120 0000 10B5     	 push {r4,lr}
 121 0002 0121     	 movs r1,#1
 122 0004 0C4A     	 ldr r2,.L50
 123 0006 0D4C     	 ldr r4,.L50+4
 124 0008 0023     	 movs r3,#0
 125 000a 4FF47A70 	 mov r0,#1000
 126 000e FFF7FEFF 	 bl SYSTIMER_CreateTimer
 127 0012 0121     	 movs r1,#1
 128 0014 2060     	 str r0,[r4]
 129 0016 0A4A     	 ldr r2,.L50+8
 130 0018 0023     	 movs r3,#0
 131 001a 6420     	 movs r0,#100
 132 001c FFF7FEFF 	 bl SYSTIMER_CreateTimer
 133 0020 084B     	 ldr r3,.L50+12
 134 0022 1860     	 str r0,[r3]
 135 0024 FFF7FEFF 	 bl SYSTIMER_StartTimer
 136 0028 2068     	 ldr r0,[r4]
 137 002a FFF7FEFF 	 bl SYSTIMER_StartTimer
 138 002e BDE81040 	 pop {r4,lr}
 139 0032 FFF7FEBF 	 b Motor0_BLDC_SCALAR_Init
 140              	.L51:
 141 0036 00BF     	 .align 2
 142              	.L50:
 143 0038 00000000 	 .word MotorStepProc
 144 003c 00000000 	 .word .LANCHOR1
 145 0040 00000000 	 .word HallTimerProc
 146 0044 00000000 	 .word .LANCHOR2
 148              	 .section .text.MotorStart,"ax",%progbits
 149              	 .align 1
 150              	 .global MotorStart
 151              	 .thumb
 152              	 .thumb_func
 154              	MotorStart:
 155              	 
 156              	 
 157              	 
 158 0000 FFF7FEBF 	 b Motor0_BLDC_SCALAR_MotorStart
 160              	 .section .text.MotorStop,"ax",%progbits
 161              	 .align 1
 162              	 .global MotorStop
 163              	 .thumb
 164              	 .thumb_func
 166              	MotorStop:
 167              	 
 168              	 
 169              	 
 170 0000 044B     	 ldr r3,.L54
 171 0002 197C     	 ldrb r1,[r3,#16]
 172 0004 1A68     	 ldr r2,[r3]
 173 0006 4FF00113 	 mov r3,#65537
 174 000a 8B40     	 lsls r3,r3,r1
 175 000c 5360     	 str r3,[r2,#4]
 176 000e FFF7FEBF 	 b Motor0_BLDC_SCALAR_MotorStop
 177              	.L55:
 178 0012 00BF     	 .align 2
 179              	.L54:
 180 0014 00000000 	 .word STATUS_LED_G
 182              	 .section .text.MotorSetSpeed,"ax",%progbits
 183              	 .align 1
 184              	 .global MotorSetSpeed
 185              	 .thumb
 186              	 .thumb_func
 188              	MotorSetSpeed:
 189              	 
 190              	 
 191              	 
 192 0000 00F59663 	 add r3,r0,#1200
 193 0004 B3F5166F 	 cmp r3,#2400
 194 0008 9FBF     	 itttt ls
 195 000a 054B     	 ldrls r3,.L58
 196 000c C003     	 lslls r0,r0,#15
 197 000e D3F8B030 	 ldrls r3,[r3,#176]
 198 0012 90FBF3F0 	 sdivls r0,r0,r3
 199 0016 9CBF     	 itt ls
 200 0018 024B     	 ldrls r3,.L58+4
 201 001a 5860     	 strls r0,[r3,#4]
 202 001c 7047     	 bx lr
 203              	.L59:
 204 001e 00BF     	 .align 2
 205              	.L58:
 206 0020 00000000 	 .word Motor0_BLDC_SCALAR
 207 0024 00000000 	 .word Motor0_BLDC_SCALAR_SpeedControl
 209              	 .section .text.MotorSetProportionalGain,"ax",%progbits
 210              	 .align 1
 211              	 .global MotorSetProportionalGain
 212              	 .thumb
 213              	 .thumb_func
 215              	MotorSetProportionalGain:
 216              	 
 217              	 
 218              	 
 219 0000 0304     	 lsls r3,r0,#16
 220 0002 5CBF     	 itt pl
 221 0004 014B     	 ldrpl r3,.L62
 222 0006 1882     	 strhpl r0,[r3,#16]
 223 0008 7047     	 bx lr
 224              	.L63:
 225 000a 00BF     	 .align 2
 226              	.L62:
 227 000c 00000000 	 .word Motor0_BLDC_SCALAR_SpeedControl_PI
 229              	 .section .text.MotorSetIntegralGain,"ax",%progbits
 230              	 .align 1
 231              	 .global MotorSetIntegralGain
 232              	 .thumb
 233              	 .thumb_func
 235              	MotorSetIntegralGain:
 236              	 
 237              	 
 238              	 
 239 0000 0304     	 lsls r3,r0,#16
 240 0002 5CBF     	 itt pl
 241 0004 014B     	 ldrpl r3,.L66
 242 0006 5882     	 strhpl r0,[r3,#18]
 243 0008 7047     	 bx lr
 244              	.L67:
 245 000a 00BF     	 .align 2
 246              	.L66:
 247 000c 00000000 	 .word Motor0_BLDC_SCALAR_SpeedControl_PI
 249              	 .section .text.MotorSetPILimit,"ax",%progbits
 250              	 .align 1
 251              	 .global MotorSetPILimit
 252              	 .thumb
 253              	 .thumb_func
 255              	MotorSetPILimit:
 256              	 
 257              	 
 258              	 
 259 0000 6428     	 cmp r0,#100
 260 0002 08D8     	 bhi .L68
 261 0004 6423     	 movs r3,#100
 262 0006 C0EB8030 	 rsb r0,r0,r0,lsl#14
 263 000a B0FBF3F0 	 udiv r0,r0,r3
 264 000e 024B     	 ldr r3,.L70
 265 0010 D860     	 str r0,[r3,#12]
 266 0012 4042     	 negs r0,r0
 267 0014 9860     	 str r0,[r3,#8]
 268              	.L68:
 269 0016 7047     	 bx lr
 270              	.L71:
 271              	 .align 2
 272              	.L70:
 273 0018 00000000 	 .word Motor0_BLDC_SCALAR_SpeedControl_PI
 275              	 .section .text.MotorClearError,"ax",%progbits
 276              	 .align 1
 277              	 .global MotorClearError
 278              	 .thumb
 279              	 .thumb_func
 281              	MotorClearError:
 282              	 
 283              	 
 284              	 
 285 0000 014B     	 ldr r3,.L73
 286 0002 0022     	 movs r2,#0
 287 0004 9A66     	 str r2,[r3,#104]
 288 0006 7047     	 bx lr
 289              	.L74:
 290              	 .align 2
 291              	.L73:
 292 0008 00000000 	 .word Motor0_BLDC_SCALAR
 294              	 .section .text.MotorRead,"ax",%progbits
 295              	 .align 1
 296              	 .global MotorRead
 297              	 .thumb
 298              	 .thumb_func
 300              	MotorRead:
 301              	 
 302              	 
 303 0000 1248     	 ldr r0,.L76
 304 0002 D0B5     	 push {r4,r6,r7,lr}
 305 0004 436F     	 ldr r3,[r0,#116]
 306 0006 D0F8B440 	 ldr r4,[r0,#180]
 307 000a 4FF47A72 	 mov r2,#1000
 308 000e 83FB0223 	 smull r2,r3,r3,r2
 309 0012 E717     	 asrs r7,r4,#31
 310 0014 02FB07F1 	 mul r1,r2,r7
 311 0018 04FB0311 	 mla r1,r4,r3,r1
 312 001c A2FB0423 	 umull r2,r3,r2,r4
 313 0020 0B44     	 add r3,r3,r1
 314 0022 D20B     	 lsrs r2,r2,#15
 315 0024 42EA4342 	 orr r2,r2,r3,lsl#17
 316 0028 0949     	 ldr r1,.L76+4
 317 002a D0F8B030 	 ldr r3,[r0,#176]
 318 002e 0A61     	 str r2,[r1,#16]
 319 0030 002A     	 cmp r2,#0
 320 0032 B8BF     	 it lt
 321 0034 5242     	 rsblt r2,r2,#0
 322 0036 4A80     	 strh r2,[r1,#2]
 323 0038 C26E     	 ldr r2,[r0,#108]
 324 003a 5343     	 muls r3,r2,r3
 325 003c DB13     	 asrs r3,r3,#15
 326 003e 002B     	 cmp r3,#0
 327 0040 CB60     	 str r3,[r1,#12]
 328 0042 B8BF     	 it lt
 329 0044 5B42     	 rsblt r3,r3,#0
 330 0046 8B80     	 strh r3,[r1,#4]
 331 0048 D0BD     	 pop {r4,r6,r7,pc}
 332              	.L77:
 333 004a 00BF     	 .align 2
 334              	.L76:
 335 004c 00000000 	 .word Motor0_BLDC_SCALAR
 336 0050 00000000 	 .word drive
 338              	 .global HallTimer
 339              	 .global MotorStepTimer
 340              	 .comm drive,24,4
 341              	 .section .bss.MotorStepTimer,"aw",%nobits
 342              	 .align 2
 343              	 .set .LANCHOR1,.+0
 346              	MotorStepTimer:
 347 0000 00000000 	 .space 4
 348              	 .section .bss.prev_hall.11842,"aw",%nobits
 349              	 .align 2
 350              	 .set .LANCHOR0,.+0
 353              	prev_hall.11842:
 354 0000 00000000 	 .space 4
 355              	 .section .bss.HallTimer,"aw",%nobits
 356              	 .align 2
 357              	 .set .LANCHOR2,.+0
 360              	HallTimer:
 361 0000 00000000 	 .space 4
 362              	 .ident "GCC: (GNU Tools for ARM Embedded Processors) 4.9.3 20141119 (release) [ARM/embedded-4_9-branch revision 218278]"
DEFINED SYMBOLS
                            *ABS*:00000000 motor.c
    {standard input}:17     .text.HallTimerProc:00000000 $t
    {standard input}:22     .text.HallTimerProc:00000000 HallTimerProc
    {standard input}:96     .text.HallTimerProc:00000074 $d
                            *COM*:00000018 drive
    {standard input}:100    .text.MotorStepProc:00000000 $t
    {standard input}:105    .text.MotorStepProc:00000000 MotorStepProc
    {standard input}:112    .text.MotorInit:00000000 $t
    {standard input}:117    .text.MotorInit:00000000 MotorInit
    {standard input}:143    .text.MotorInit:00000038 $d
    {standard input}:149    .text.MotorStart:00000000 $t
    {standard input}:154    .text.MotorStart:00000000 MotorStart
    {standard input}:161    .text.MotorStop:00000000 $t
    {standard input}:166    .text.MotorStop:00000000 MotorStop
    {standard input}:180    .text.MotorStop:00000014 $d
    {standard input}:183    .text.MotorSetSpeed:00000000 $t
    {standard input}:188    .text.MotorSetSpeed:00000000 MotorSetSpeed
    {standard input}:206    .text.MotorSetSpeed:00000020 $d
    {standard input}:210    .text.MotorSetProportionalGain:00000000 $t
    {standard input}:215    .text.MotorSetProportionalGain:00000000 MotorSetProportionalGain
    {standard input}:227    .text.MotorSetProportionalGain:0000000c $d
    {standard input}:230    .text.MotorSetIntegralGain:00000000 $t
    {standard input}:235    .text.MotorSetIntegralGain:00000000 MotorSetIntegralGain
    {standard input}:247    .text.MotorSetIntegralGain:0000000c $d
    {standard input}:250    .text.MotorSetPILimit:00000000 $t
    {standard input}:255    .text.MotorSetPILimit:00000000 MotorSetPILimit
    {standard input}:273    .text.MotorSetPILimit:00000018 $d
    {standard input}:276    .text.MotorClearError:00000000 $t
    {standard input}:281    .text.MotorClearError:00000000 MotorClearError
    {standard input}:292    .text.MotorClearError:00000008 $d
    {standard input}:295    .text.MotorRead:00000000 $t
    {standard input}:300    .text.MotorRead:00000000 MotorRead
    {standard input}:335    .text.MotorRead:0000004c $d
    {standard input}:360    .bss.HallTimer:00000000 HallTimer
    {standard input}:346    .bss.MotorStepTimer:00000000 MotorStepTimer
    {standard input}:342    .bss.MotorStepTimer:00000000 $d
    {standard input}:349    .bss.prev_hall.11842:00000000 $d
    {standard input}:353    .bss.prev_hall.11842:00000000 prev_hall.11842
    {standard input}:356    .bss.HallTimer:00000000 $d

UNDEFINED SYMBOLS
Motor0_BLDC_SCALAR_SPEED_POS_HALL_GetHallPosition
Motor0_BLDC_SCALAR_MSM
SYSTIMER_CreateTimer
SYSTIMER_StartTimer
Motor0_BLDC_SCALAR_Init
Motor0_BLDC_SCALAR_MotorStart
Motor0_BLDC_SCALAR_MotorStop
STATUS_LED_G
Motor0_BLDC_SCALAR
Motor0_BLDC_SCALAR_SpeedControl
Motor0_BLDC_SCALAR_SpeedControl_PI
